# dont-serve-static-files

## Benchmark results

### App 0

```console
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80
Running 30s test @ http://localhost:80
1000 connections


┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 38 ms │ 40 ms │ 45 ms │ 81 ms │ 41.25 ms │ 13.42 ms │ 341 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 13935   │ 13935   │ 24527   │ 25423   │ 23975.6 │ 2171.95 │ 13929   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 2.62 MB │ 2.62 MB │ 4.61 MB │ 4.78 MB │ 4.51 MB │ 409 kB  │ 2.62 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

720k requests in 30.11s, 135 MB read
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80/public/index.html
Running 30s test @ http://localhost:80/public/index.html
1000 connections


┌─────────┬────────┬────────┬────────┬────────┬───────────┬──────────┬────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max    │
├─────────┼────────┼────────┼────────┼────────┼───────────┼──────────┼────────┤
│ Latency │ 125 ms │ 130 ms │ 176 ms │ 219 ms │ 134.33 ms │ 24.62 ms │ 463 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬───────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5% │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 3743    │ 3743    │ 7515    │ 7999  │ 7410.3  │ 763.63  │ 3743    │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 7.03 MB │ 7.03 MB │ 14.1 MB │ 15 MB │ 13.9 MB │ 1.43 MB │ 7.03 MB │
└───────────┴─────────┴─────────┴─────────┴───────┴─────────┴─────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

223k requests in 30.12s, 417 MB read
```

### App1

```console
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80/public/index.html
Running 30s test @ http://localhost:80/public/index.html
1000 connections


┌─────────┬────────┬────────┬────────┬────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev     │ Max     │
├─────────┼────────┼────────┼────────┼────────┼───────────┼───────────┼─────────┤
│ Latency │ 111 ms │ 346 ms │ 642 ms │ 814 ms │ 347.02 ms │ 150.11 ms │ 1353 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴───────────┴─────────┘
┌───────────┬────────┬────────┬─────────┬─────────┬─────────┬─────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min    │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼─────────┼────────┤
│ Req/Sec   │ 1438   │ 1438   │ 2737    │ 5911    │ 2865.97 │ 865.17  │ 1438   │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼─────────┼────────┤
│ Bytes/Sec │ 2.7 MB │ 2.7 MB │ 5.14 MB │ 11.1 MB │ 5.38 MB │ 1.62 MB │ 2.7 MB │
└───────────┴────────┴────────┴─────────┴─────────┴─────────┴─────────┴────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

87k requests in 30.15s, 161 MB read
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80
Running 30s test @ http://localhost:80
1000 connections


┌─────────┬───────┬────────┬────────┬────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%  │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev     │ Max     │
├─────────┼───────┼────────┼────────┼────────┼───────────┼───────────┼─────────┤
│ Latency │ 45 ms │ 236 ms │ 509 ms │ 645 ms │ 239.27 ms │ 147.42 ms │ 3359 ms │
└─────────┴───────┴────────┴────────┴────────┴───────────┴───────────┴─────────┘
┌───────────┬────────┬────────┬────────┬─────────┬─────────┬─────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%   │ Avg     │ Stdev   │ Min    │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┤
│ Req/Sec   │ 3365   │ 3365   │ 3769   │ 9831    │ 4150.11 │ 1240.75 │ 3364   │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┤
│ Bytes/Sec │ 626 kB │ 626 kB │ 701 kB │ 1.83 MB │ 772 kB  │ 231 kB  │ 626 kB │
└───────────┴────────┴────────┴────────┴─────────┴─────────┴─────────┴────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

125k requests in 30.14s, 23.2 MB read
```

### App3

```console
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80/public/index.html
Running 30s test @ http://localhost:80
1000 connections


┌─────────┬───────┬────────┬────────┬────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%  │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev     │ Max     │
├─────────┼───────┼────────┼────────┼────────┼───────────┼───────────┼─────────┤
│ Latency │ 45 ms │ 236 ms │ 509 ms │ 645 ms │ 239.27 ms │ 147.42 ms │ 3359 ms │
└─────────┴───────┴────────┴────────┴────────┴───────────┴───────────┴─────────┘
┌───────────┬────────┬────────┬────────┬─────────┬─────────┬─────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%   │ Avg     │ Stdev   │ Min    │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┤
│ Req/Sec   │ 3365   │ 3365   │ 3769   │ 9831    │ 4150.11 │ 1240.75 │ 3364   │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┤
│ Bytes/Sec │ 626 kB │ 626 kB │ 701 kB │ 1.83 MB │ 772 kB  │ 231 kB  │ 626 kB │
└───────────┴────────┴────────┴────────┴─────────┴─────────┴─────────┴────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

125k requests in 30.14s, 23.2 MB read
rafaelgss@rafaelgss-desktop:~/repos/os/dont-serve-nodejs-static-files/app0$ npx autocannon -d 30 -c 1000 http://localhost:80/public/index.html
Running 30s test @ http://localhost:80/public/index.html
1000 connections


┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 15 ms │ 21 ms │ 63 ms │ 79 ms │ 28.08 ms │ 16.03 ms │ 309 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬───────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5% │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 33727   │ 33727   │ 45087   │ 47743 │ 44467.2 │ 3078.52 │ 33721   │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 61.4 MB │ 61.4 MB │ 82.1 MB │ 87 MB │ 81 MB   │ 5.6 MB  │ 61.4 MB │
└───────────┴─────────┴─────────┴─────────┴───────┴─────────┴─────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 30

1336k requests in 30.41s, 2.43 GB read
```
